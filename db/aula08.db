--1 Listar o nome e a cidade dos fornecedores com mais de 10 peças.Contar só as peças de código 1.
	
	select nome, cidade
		from tbl_fornecedor
		where cod_fornecedor
	IN (
		select cod_fornecedor
			from tbl_estoque
			where quantidade > 10 and cod_peca = 1
	);

--2  Encontre o nome das peças com preço superior a 10 que estão disponíveis em estoque:

	select nome
		from tbl_peca
		where cod_peca
	IN (
		select cod_peca
			from tbl_estoque
			where preco > 10
	);

--3 Selecione o nome das peças que não estão em estoque:

	select nome
		from tbl_peca
		where cod_peca 
	not in (
		select cod_peca
			from tbl_estoque
	); 
		
--4 Encontre o nome das peças que estão em estoque com uma quantidade maior que 20:

	select nome 
		from tbl_peca
		where cod_peca
	IN (
		select cod_peca
			from tbl_estoque
			where quantidade > 20 
	);

--5 Listar todas as pecas exceto a PLACA, ordenado por nome

	select *
		from tbl_peca
	EXCEPT (
		select *
			from tbl_peca
			where nome = 'PLACA'
			order by nome
	);

--6 Listar o nome e a cor das peças do fornecedor C, ordenado pelo nome da peça

	select nome, cor
		from tbl_peca
		where cod_peca
	IN (
		select cod_peca
			from tbl_estoque
			where cod_fornecedor
		IN (
			select cod_fornecedor
			from tbl_fornecedor
			where nome = 'C'
			order by nome asc
		)
	);

--7 Listar o nome e a cor de todas as pecas de Londres


	select nome, cor
		from tbl_peca 
	intersect (
		select nome, cor
		from tbl_peca
		where cidade = 'LONDRES'
	);

--8 Encontre o nome das peças que estão disponíveis em estoque em Londres e não estão disponíveis em estoque em Paris:
	
SELECT nome
FROM tbl_peca
WHERE cod_peca IN (
    SELECT cod_peca
    FROM tbl_estoque
    WHERE cidade = 'LONDRES'
)
AND cod_peca NOT IN (
    SELECT cod_peca
    FROM tbl_estoque
    WHERE cidade = 'PARIS'
);



--9 Quais os codigos das peças que possuem maior estoque do que a peça de codigo 2?

	select distinct cod_peca
	from tbl_estoque
	where quantidade > (
		select quantidade
		from tbl_estoque
		where cod_peca = 2
	);
